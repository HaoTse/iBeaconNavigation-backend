<!DOCTYPE html>
<html>

<head>
    \{include file="../common/resource.html"\}
    <!-- Snap.svg -->
    <script src="../javascript/snap.svg.js"></script>
</head>

<body class="hold-transition skin-blue sidebar-mini">
    <div class="wrapper">
        \{include file="../common/header.html"\}
        \{include file="../common/menu.html"\}
        <div class="content-wrapper">
            <section class="content-header">
                <h1></h1>
            </section>
            <section class="content">
                <div class="row">
                    <div class="col-md-6">
                        \{if $error != ''\}
                        <div class="alert alert-warning alert-dismissable text-center">
                            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                            <h4 style="display: inline;">\{$error\}</h4>
                        </div>
                        \{/if\}
                        <div class="box box-success">
                            <div class="box-header with-border">
                                <h3 class="box-title">編輯Beacon</h3>
                            </div>
                            <!-- form-->
                            <form class="form-horizontal" method="post" action="../controller/beaconController.php" onsubmit="return formValidation();">
                                <div class="box-body">
                                    <div id="mac_addrDiv" class="form-group\{if $error == '此 Beacon Mac 已登記'\} has-error\{/if\}">
                                        <label for="mac_addr" class="col-sm-3 control-label">Beacon Mac</label>
                                        <div class="col-sm-9">
                                            <input id="mac_addr" name="mac_addr" type="text" class="form-control" placeholder="輸入 Beacon Mac" value="\{$beaconData.mac_addr\}">
                                        </div>
                                    </div>
                                    <div id="nameDiv" class="form-group">
                                        <label for="name" class="col-sm-3 control-label">Beacon名稱</label>
                                        <div class="col-sm-9">
                                            <input id="name" name="name" type="text" class="form-control" placeholder="輸入 Beacon名稱" value="\{$beaconData.name\}">
                                        </div>
                                    </div>
                                    <div id="position" class="form-group">
                                        <div id="xDiv" style="display: inline">
                                            <label for="x" class="col-sm-3 control-label">X座標</label>
                                            <div class="col-sm-3">
                                                <input id="x" name="x" type="text" class="form-control" placeholder="選取 X座標" value="\{$beaconData.x\}">
                                            </div>
                                        </div>
                                        <div id="yDiv" style="display: inline">
                                            <label for="y" class="col-sm-3 control-label">Y座標</label>
                                            <div class="col-sm-3">
                                                <input id="y" name="y" type="text" class="form-control" placeholder="選取 Y座標" value="\{$beaconData.y\}">
                                            </div>
                                        </div>
                                    </div>
                                    <h5 id="coord"></h5>
                                    <div id="map-container" style="background-color: #FFFFCE">
                                        <svg id="map-svg" style="width:100%"></svg>
                                    </div>
                                </div>
                                <!-- /.box-body -->
                                <div class="box-footer" style="text-align: right;">
                                    <a href="../controller/beaconController.php?action=viewBeaconList" class="btn btn-warning">取消</a>
                                    <input type="hidden" name="action" value="updateBeacon">
                                    <input type="hidden" name="beaconId" value="\{$beaconData.beacon_id\}">
                                    <button type="submit" class="btn btn-primary">更新</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        \{include file="../common/footer.html"\}
    </div>
    <script src="../javascript/beacon/beaconEdit.js"></script>
</body>

</html>